<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEWS | 新 高級ジェネ™ 公式サイト</title>
  <meta name="description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!">
  <meta name="google-site-verification" content="9_dxQw3tiC3vs0ur8X4JLnf7vINwHN3m_qnyZO_3PDM" />

<!-- OGP (Open Graph Protocol) -->
  <meta property="og:title" content="新 高級ジェネ™ 公式サイト" />
  <meta property="og:description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!" />
  <meta property="og:image" content="https://kokyujene.super-hiko14.com/ogp.webp /">
  <meta property="og:url" content="https://kokyujene.super-hiko14.com" />
  <meta property="og:type" content="website" />

<!-- X(Twitter)用 -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@KokyuJene">
  <meta name="twitter:title" content="新 高級ジェネ 公式サイト">
  <meta name="twitter:description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!">
  <meta name="twitter:image" content="https://kokyujene.super-hiko14.com/ogp.webp">

<!-- ico, etc... -->
  <link rel="icon" href="https://kokyujene.super-hiko14.com/favicon.ico" type="image/x-icon">
  <link rel="icon" href="https://kokyujene.super-hiko14.com/favicon.png" type="image/png">
  <link rel="shortcut icon" href="https://kokyujene.super-hiko14.com/favicon.ico">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="shortcut icon" type="image/webp" href="https://kokyujene.super-hiko14.com/favicon.webp">
  <link rel="icon" type="image/png" sizes="16x16" href="https://kokyujene.super-hiko14.com/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://kokyujene.super-hiko14.com/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="https://kokyujene.super-hiko14.com/favicon-48x48.png">

<!-- iOS Safari 用 -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://kokyujene.super-hiko14.com/apple-touch-icon.png">

<!-- Android / Chrome PWA 用 -->
  <link rel="manifest" href="https://kokyujene.super-hiko14.com/site.webmanifest">

<!-- レガシー互換 -->
  <link rel="shortcut icon" href="https://kokyujene.super-hiko14.com/favicon.ico">
</head>


<body>

<header id="mainHeader">
  <div class="logo">
    <a href="https://kokyujene.super-hiko14.com">
    <img src="https://kokyujene.super-hiko14.com/images/icon.png" alt="LOGO">
    </a>
  </div>

  <div class="list">
    <ul>
      <li><a href="https://kokyujene.super-hiko14.com/">home</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/members/">members</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/rules/">rules</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/news/">news</a></li>
      <li>/</li>
      <li><a href="https://kokyujene.super-hiko14.com/about/">about</a></li>
    </ul>
  </div>

</header>

<div class="header-icon-menu" aria-hidden="false">
  <button class="menu-icon" aria-label="メニューを開く" type="button">
    <img src="https://kokyujene.super-hiko14.com/images/menu.webp" alt="menu" />
  </button>
  <button class="close-icon" aria-label="メニューを閉じる" type="button">
    <img src="https://kokyujene.super-hiko14.com/images/close.webp" alt="close" />
  </button>
</div>

  <nav id="mobileMenu" class="mobile-menu" aria-hidden="true">
    <ul>
      <li><a href="https://kokyujene.super-hiko14.com/">home</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/members/">members</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/rules/">rules</a></li>
      <li><a href="https://kokyujene.super-hiko14.com/news/">news</a></li>
      <li><div class="---"></div></li>
      <li><a href="https://kokyujene.super-hiko14.com/about/">about</a></li>
    </ul>
  </nav>

<main>

<div class="top-wall-news">
<div class="top-box">
  <div class="child">
    <div class="title">
    <h1>NEWS</h1>
    </div>
  </div>
</div>
</div>

    <div class="news-controls" aria-hidden="false">
      <div>
        <button data-filter="all" class="active">すべて</button>
        <button data-filter="緊急">緊急</button>
        <button data-filter="特大お知らせ">特大お知らせ</button>
        <button data-filter="ちょっとしたお知らせ">ちょっとしたお知らせ</button>
        <button data-filter="投票">投票</button>
      </div>

      <div class="controls-right">
        <label for="sortSelect">並び:</label>
        <select id="sortSelect">
          <option value="new">新しい順</option>
          <option value="old">古い順</option>
        </select>
        <input id="q" placeholder="検索(タイトル・説明)">
      </div>
    </div>

<ul id="news-list"></ul>

</main>

<footer>
  <div class="footer-top">
    <a href="#top" id="scrollTopButton">
      <img src="https://kokyujene.super-hiko14.com/images/title.webp" alt="高級ジェネ">
    </a>
    <div class="footer-icon">
      <img id="theme-icon" src="https://kokyujene.super-hiko14.com/images/moon.webp" alt="テーマ切替" class="theme-toggle-icon">
    </div>
  </div>
  <div class="footer-bottom">
    <p>© 2025-<span id="year"></span> 高級ジェネ™ All rights reserved.</p>
    <nav class="footer-nav">
      <a href="https://legal.super-hiko14.com/privacypolicy">プライバシーポリシー</a>
      <a href="https://legal.super-hiko14.com/terms">利用規約</a>
      <a href="https://kokyujene.super-hiko14.com/license">ライセンス</a>
      <a href="https://kokyujene.super-hiko14.com/contact">お問い合わせ</a>
    </nav>
  </div>
</footer>

<script src="https://kokyujene.super-hiko14.com/js/script.js">
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const menuIcon = document.querySelector(".menu-icon");
  const closeIcon = document.querySelector(".close-icon");
  const mobileMenu = document.getElementById("mobileMenu");
  const headerIconMenu = document.querySelector(".header-icon-menu");

  function openMenu() {
    mobileMenu.classList.add("active");
    document.body.classList.add("menu-open");
    menuIcon.classList.add("hidden");
    closeIcon.classList.add("show");
    menuIcon.setAttribute("aria-hidden", "true");
    closeIcon.setAttribute("aria-hidden", "false");
  }

  function closeMenu() {
    mobileMenu.classList.remove("active");
    document.body.classList.remove("menu-open");
    menuIcon.classList.remove("hidden");
    closeIcon.classList.remove("show");
    menuIcon.setAttribute("aria-hidden", "false");
    closeIcon.setAttribute("aria-hidden", "true");
  }

  menuIcon.addEventListener("click", openMenu);
  closeIcon.addEventListener("click", closeMenu);

  mobileMenu.addEventListener("click", (e) => {
    if (e.target === mobileMenu) closeMenu();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && mobileMenu.classList.contains("active")) {
      closeMenu();
    }
  });
});
</script>

<script>
// ニュースデータを保持
let allNews = [];
let filteredNews = [];

// ニュースデータの取得
fetch("../news/news.json")
  .then(res => res.json())
  .then(data => {
    allNews = data;
    filteredNews = [...allNews];
    renderNews();
    setupEventListeners();
  })
  .catch(err => console.error("ニュース取得エラー:", err));

// ニュースの表示
function renderNews() {
  const list = document.getElementById("news-list");
  list.innerHTML = "";

  if (filteredNews.length === 0) {
    list.innerHTML = '<li class="news-empty">該当するニュースが見つかりませんでした</li>';
    return;
  }

  // ソート順を取得
  const sortOrder = document.getElementById("sortSelect").value;
  const sorted = [...filteredNews];
  
  if (sortOrder === "new") {
    sorted.reverse();
  }

  sorted.forEach(item => {
    const li = document.createElement("li");
    li.innerHTML = `
      <a href="${item.link}" class="news-box">
        <div class="catego"><span class="${item.category}">» ${item.category} «</span></div>
        <div class="date">${item.date}</div>
        <div class="news-title">${item.title}</div>
        <div class="des">${item.description}</div>
      </a>
    `;
    list.appendChild(li);
  });
}

// フィルター処理
function applyFilters() {
  const activeFilter = document.querySelector(".news-controls button.active").dataset.filter;
  const searchQuery = document.getElementById("q").value.toLowerCase().trim();

  filteredNews = allNews.filter(item => {
    // カテゴリーフィルター
    const categoryMatch = activeFilter === "all" || item.category === activeFilter;
    
    // 検索フィルター
    const searchMatch = !searchQuery || 
      item.title.toLowerCase().includes(searchQuery) || 
      item.description.toLowerCase().includes(searchQuery);
    
    return categoryMatch && searchMatch;
  });

  renderNews();
}

// イベントリスナーの設定
function setupEventListeners() {
  // カテゴリーボタン
  document.querySelectorAll(".news-controls button[data-filter]").forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelectorAll(".news-controls button[data-filter]").forEach(b => {
        b.classList.remove("active");
      });
      btn.classList.add("active");
      applyFilters();
    });
  });

  // ソート順変更
  document.getElementById("sortSelect").addEventListener("change", () => {
    renderNews();
  });

  // 検索入力
  let searchTimeout;
  document.getElementById("q").addEventListener("input", () => {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
      applyFilters();
    }, 300); // 300ms遅延でパフォーマンス向上
  });
}
</script>

</body>
</html>