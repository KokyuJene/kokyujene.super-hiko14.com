<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>新 高級ジェネ™ 公式サイト</title>
  <meta name="description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!">
  <meta name="google-site-verification" content="9_dxQw3tiC3vs0ur8X4JLnf7vINwHN3m_qnyZO_3PDM" />

<!-- OGP (Open Graph Protocol) -->
  <meta property="og:title" content="新 高級ジェネ™ 公式サイト">
  <meta property="og:description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!">
  <meta property="og:image" content="https://kokyujene.github.io/ogp.webp">
  <meta property="og:url" content="https://kokyujene.github.io">
  <meta property="og:type" content="website">

<!-- X(Twitter)用 -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Kokyujene">
  <meta name="twitter:title" content="新 高級ジェネ 公式サイト">
  <meta name="twitter:description" content="Super Hiko14がホストを運営するマインクラフト統合版サーバー『新 高級ジェネ』の公式サイト! 高級ジェネの運営メンバーやルールなどが記述されているページもあり、最新情報をお届けするニュースや、お問い合わせページ、Youtube、X、オープンチャット、Discordなどのリンクも記載!">
  <meta name="twitter:image" content="https://kokyujene.github.io/ogp.webp">

<!-- ico, etc... -->
  <link rel="icon" href="https://kokyujene.github.io/favicon.ico" type="image/x-icon">
  <link rel="icon" href="https://kokyujene.github.io/favicon.png" type="image/png">
  <link rel="shortcut icon" href="https://kokyujene.github.io/favicon.ico">
  <link rel="stylesheet" href="css/style.css">
  <link rel="shortcut icon" type="image/webp" href="https://kokyujene.github.io/favicon.webp">
  <link rel="icon" type="image/png" sizes="16x16" href="https://kokyujene.github.io/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://kokyujene.github.io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="https://kokyujene.github.io/favicon-48x48.png">

<!-- iOS Safari 用 -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://kokyujene.github.io/apple-touch-icon.png">

<!-- Android / Chrome PWA 用 -->
  <link rel="manifest" href="https://kokyujene.github.io/site.webmanifest">

<!-- レガシー互換 -->
  <link rel="shortcut icon" href="https://kokyujene.github.io/favicon.ico">
</head>

<style>

html {
  scroll-behavior: smooth;
}

html, body {
  overflow-x: hidden;
}

.Warning {
  color: #800400;
}

.Warningbox1 {
  box-sizing: border-box;
  background-color: #ffb3b3;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  text-align: center;
  align-items: center;  
  width: 140%;
  margin-left: -20%;
}

.dark .Warningbox1 {
  background-color: #410000;
}

@media screen and (max-width: 768px) {
/* ===============================
   Layout reset for images & body
   =============================== */

/* 全画像は幅可変、はみ出し防止 */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* もし他で固定幅を指定している場合に備えて強めに上書き */
.center-image-left img,
.center-image img,
.image-container img {
  margin-left: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
}

/* body / main の余白整理
   ヘッダーが fixed の場合、コンテンツが被らないよう上部余白を確保 */
body {
  padding: 0 !important;
  margin: 0 !important;
  background-color: #ffefcf; /* ご希望の背景色 */
}

/* ヘッダー高さに応じて main の余白を調整 (ヘッダー高さを合わせてください) */
.site-header, header {
  height: 72px; /* 実際のヘッダー高さに合わせて調整 */
  line-height: 72px;
}
main {
  padding-top: calc(72px + 24px); /* ヘッダー + 少し余白 */
}

/* ===============================
   box1 の安全な中央寄せ & 幅制御
   =============================== */

.Warningbox1 {
  box-sizing: border-box;
  padding: 24px;
  border-radius: 16px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  text-align: center;
  align-items: center;

  /* 幅調整：PCは最大幅で止め、常に中央寄せ */
  width: calc(100% - 40px); /* 画面端にほんの少しスペースを残す */
  max-width: 1600px;        /* 指定どおり1600pxで上限 */
  margin: 20px auto;        /* 中央寄せ */
}

  .Warningbox1 {
    width: 95%;
    max-width: 95%;
    margin: 12px auto;
    padding: 18px;
  }

/* もし他ルールにより左右にずれている場合の保険（最終手段） */
.Warningbox1 {
  position: relative;
  left: 0;
  right: 0;
}

/* ===============================
   親コンテナと content-box 周りの整理
   =============================== */

.content-box {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  padding: 40px;
  width: calc(100% - 40px);
  max-width: 1600px;
  margin: 0 auto;
  flex-wrap: wrap;
}

  .content-box {
    padding: 20px;
    gap: 16px;
    width: 95%;
    box-sizing: border-box;
}


/* 親の左右余白が原因なら、wrapper にも中央寄せを強制 */
.wrapper, .parent-container {
  width: 100%;
  max-width: 1600px;
  margin: 0 auto;
  box-sizing: border-box;
  padding-left: 0;
  padding-right: 0;
}

/* ===============================
   ヘッダーと fixed 要素の衝突対策
   =============================== */

/* 固定ヘッダーがある場合はコンテンツ先頭がヘッダー下に来るように調整済み（main padding-top）。 */

/* ===============================
   最終的な強制上書き（必要なら有効化）
   =============================== */

/* ※ 以下は最終手段：既存の誤ったルールをどうしても消せないときは有効化してください。
   まずは上のルールだけを試し、まだ直らない場合に下２行のコメントを外してください. */

/*
img, .center-image-left img, .center-image img, .image-container img {
  max-width: 100% !important;
  margin-left: 0 !important;
}

.Warningbox1 {
  width: calc(100% - 40px) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}
*/

}

li {display: flex;}

.dark .news-box{
  padding:14px; border-radius:8px; background:#81580b; color: #fff8ec; box-shadow:0 2px 8px rgba(0,0,0,0.06); margin-bottom:12px;
}

.news-box{
  padding:14px; border-radius:8px; background:#ffaa00; color: #fff8ec; box-shadow:0 2px 8px rgba(0,0,0,0.06); margin-bottom:12px;
}

.news-box:hover { color: #ffdc96; background-color: #ffb41e; }

.dark .news-box:hover { background-color: #e7ae44; color: #fff8ec; }

    .news-item { border-bottom: 1px solid #ccc; padding: 10px 0; }
    .news-category { font-size: 0.8em; padding: 2px 6px; border-radius: 4px; margin-right: 8px; }
    .cat-緊急 { background: red; color: white; }
    .cat-特大お知らせ { background: orange; color: white; }
    .cat-ちょっとしたお知らせ { background: green; color: white; }

    /* オーバーレイ */
#imgOverlay {
  display: none; /* 非表示デフォルト */
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.85);
  z-index: 9999;
  justify-content: center;
  align-items: center;
}

.news-box:hover {
  transform: scale(1.05);
}

/* 拡大画像 */
#imgOverlay img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 6px;
  box-shadow: 0 0 20px rgba(0,0,0,0.8);
  animation: zoomIn 0.3s ease;
}

/* 閉じるボタン */
#closeOverlay {
  position: absolute;
  top: 20px; right: 30px;
  font-size: 40px;
  color: #fff;
  cursor: pointer;
  user-select: none;
}

@keyframes zoomIn {
  from { transform: scale(0.7); opacity: 0; }
  to   { transform: scale(1);   opacity: 1; }
}

/* サムネイルにカーソルを置いたとき */
.news-img {
  cursor: zoom-in;
  transition: opacity 0.3s;
  border-radius:18px;
}
.news-img:hover {
  opacity: 0.8;
  border-radius:28px;
}

/* ===== hero wrapper ===== */
#heroWrapper {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #000;
  z-index: 2000;
  overflow: hidden;
  transition: opacity 0.3s ease;
}

/* 最初は全画面いっぱい */
#heroInner {
  width: 100vw;
  height: 100vh;
  background: url("/images/wall_back.webp") center/cover no-repeat;
  border-radius: 0;
  will-change: transform, border-radius, width, height;
}

/* 最終的に収まる場所 */
.logo-slot {
  width: 140px;
  height: 140px;
  border-radius: 50%; /* 丸に */
  overflow: hidden;
  display: inline-block;
  position: relative;
}

.logo-slot img#slotImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Welcome テキスト */
.welcome-text {
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}

/* 仕切り：シンプルな横線イメージの代替 */
.divider_1 {
  height: 15px;
  background-color: #ffdca6;
}

.dark .divider_1 {
  height: 15px;
  background-color: #362400;
}

/* ループ背景セクション */
.loop-bg {
  position: relative;
  background-image: url('../images/pc_nomal.webp');
  background-repeat: repeat-y;
  background-position: center 0px;
  background-size: auto;
  padding: 40px 20px;
  overflow: hidden;
  min-height: 300px;
}

@media screen and (max-width: 768px) {
/* ループ背景セクション */
.loop-bg {
  background-image: url('../images/phone_nomal.webp');
}
}

.loop-bg .loop-content {
  box-sizing: border-box;
  background-color: #ffefcf3a;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  text-align: center;
  align-items: center;  
  width: 100%;        
  max-width: 1600px;  
  margin: 20px auto;  
}

.dark .loop-bg .loop-content {
  background-color: #3624003a;
  color: #ffebc5;
}

.youtube {
  width: 672px;
  height: 378px;
}

/* モバイル対策：背景画像を低負荷に */
@media (max-width: 768px) {
.loop-bg {
    background-attachment: scroll;
  }

.h2_yokoku {
  font-size: 30px;
}

.youtube {
  width: 192px;
  height: 108px;
}
}

.h2_yokoku {
  font-size: 50px;
}

.x-embed-center {
  display: flex;
  justify-content: center;
}

@font-face {
  font-family: 'Zen Kaku Gothic New';
  src: url('https://kokyujene.github.io/fonts/ZenKakuGothicNew-Light.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

.black {
  font-family: 'Zen Kaku Gothic New', 'Meiryo', Arial, Helvetica, sans-serif;
  color:#fff;
  background-color: #000;
  width: 100%;        /* 強引に140%にせず自然に広げる */
  max-width: 1600px;  /* 必要なら上限を設定（大画面用） */
  margin: 20px auto;  /* 自動で中央寄せ */
  padding: 30px;
  border-radius: 24px;
  font-size: 30px;
}

@media (max-width: 768px) {
.black {
  font-size: 15px
}
}

@font-face {
    font-family: 'jost';
    src: url('../fonts/Jost-Bold.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}

@font-face {
    font-family: 'jost';
    src: url('../fonts/Jost.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'zenkaku';
    src: url('../fonts/zenkaku.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'zenkaku';
    src: url('../fonts/zenkaku-Bold.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}

.my-button-beta {
    display: inline-block;
    padding: 15px 20px;
    margin: 12px;
    background-color: #ffbb32;
    color : #fff4ea;
    font-size: 18px;
    box-shadow:0 2px 8px rgba(0,0,0,0.06);
    border-radius:8px;
    font-family: 'Jost', 'zenkaku', sans-serif;
}

.dark .my-button-beta {
    background-color: #81580b;
    color : #fff8eb;
}

.my-box {
    padding: 20px;
    margin: 20px auto;
    background-color: #fff1d6;
    border-radius: 16px;
    text-align: center;
    align-items: center;
    justify-items: center;
    font-family: 'Jost', 'zenkaku', sans-serif;
}

.dark .my-box {
    background-color: #362400;
}

</style>

<body>
<div class="wrapper">

<section aria-hidden="true" id="hero">
  <div id="heroWrapper">
    <div id="heroInner"></div>
  </div>
</section>

<header>
  <a href="https://kokyujene.github.io/" class="logo">
    <img src="https://kokyujene.github.io/images/logo_icon.webp" alt="LOGO">
  </a>

  <nav class="nav-links">
    <ul>
      <li>
        <a href="https://kokyujene.github.io">
          <small class="sub-title">\-Home-/</small>
          <h3 class="h2-header">ホーム</h3>
        </a>
      </li>
      <li>
        <a href="https://kokyujene.github.io/members/">
          <small class="sub-title">\-Member-/</small>
          <h3 class="h2-header">メンバー紹介</h3>
        </a>
      </li>
      <li>
        <a href="https://kokyujene.github.io/rules/">
          <small class="sub-title">\-Rules-/</small>
          <h3 class="h2-header">ルール</h3>
        </a>
      </li>
      <li>
        <a href="https://kokyujene.github.io/news/">
          <small class="sub-title">\-News-/</small>
          <h3 class="h2-header">ニュース</h3>
        </a>
      </li>
    </ul>
  </nav>

  <img src="https://kokyujene.github.io/images/menu.webp" alt="メニュー" class="menu-icon">
  <img src="https://kokyujene.github.io/images/close.webp" alt="閉じる" class="close-icon">

<div id="mobileMenu" class="mobile-menu">
  <ul>
    <li>
      <a href="https://kokyujene.github.io">
        <small class="sm-sub-title">\-Home-/</small>
        <h3 class="sm-header">ホーム</h3>
      </a>
    </li>
    <li>
      <a href="https://kokyujene.github.io/members/">
        <small class="sm-sub-title">\-Members-/</small>
        <h3 class="sm-header">メンバー紹介</h3>
      </a>
    </li>
    <li>
      <a href="https://kokyujene.github.io/rules/">
        <small class="sm-sub-title">\-Rules-/</small>
        <h3 class="sm-header">ルール</h3>
      </a>
    </li>
    <li>
      <a href="https://kokyujene.github.io/news/">
        <small class="sm-sub-title">\-News-/</small>
        <h3 class="sm-header">ニュース</h3>
      </a>
    </li>
  </ul>
</div>
</header>

  <main>

  <section class="box1">
    <div class="box1-inner">
      <div class="logo-slot" id="logoSlot">
        <img id="slotImage" src="/images/wall_back.webp" alt="バグってるねぇ">
      </div>

      <div class="box1-text">
        <h2 id="welcomeText" class="welcome-text">ようこそ、新 高級ジェネへ</h2>
      </div>
    </div>
  </section>

<div class="fade-in">
<div class="visitor-counter">
  <h3 class="text_s1">総訪問回数</h3>
  <span id="count">Loading...</span>
</div>
</div>
    
<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
<div class="server-status-container">
  <div class="server-status">
  <h2 class="sub-title">\-Server Status-/</h2>
  <h2>サーバー状態</h2>
  </div>
  <div id="server-status" class="status-box">読み込み中...</div>
</div>
<p>時々、更新が遅れたり、サーバーを開かないこともあります。<br>その際はすみません。どうかご了承ください。</p>
  </div>
  </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Official Discord Server-/</small>
    <h2>公式Discord</h2>
    <p>公式Discordサーバーを作成しました!!ぜひ参加してみてください!!</p>
<a href="https://discord.gg/ukFH4NtDG6" target="_blank" class="my-button2">
  公式Discordサーバーに参加
</a>
    </div>
    </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
  <h2 class="sub-title">\-X(formerly Twitter)-/</h2>
  <h2>X(旧Twitter)</h2>
  <p>公式X(旧Twitter)を開始しました!!<br>意味不明なポストやお知らせなどを発信していくのでフォローお願いします!</p>
<a class="twitter-timeline" 
   href="https://twitter.com/Kokyujene?ref_src=twsrc%5Etfw" target="_blank">
   Tweets by Kokyujene
</a>
<p><br></p>
<a href="https://x.com/Kokyujene" target="_blank" class="my-button2">
  公式Xアカウントを見てみる
</a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<br>
  </div>
  </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
  <h2 class="sub-title">\-Latest News-/</h2>
  <h2 id="latest-news">最新ニュース</h2>
<section id="latest-news">
  <ul id="news-list"></ul>
  <div class="more-link"><a href="https://kokyujene.github.io/news/" class="my-button">» ニュース一覧へ</a></div>
</section>
    </div>
    </div>
</div>
</div>

<div class="fade-in">
<div class="black">
<div class="center-text">
<a href="https://kokyujene.github.io/about/">高級ジェネとは</a>
</div>
</div>
</div>

<div class="center-text">
<a data-ofuse-widget-button href="https://ofuse.me/o?uid=121628" data-ofuse-id="121628" data-ofuse-size="large" data-ofuse-color="dark" data-ofuse-text="制作過程" data-ofuse-style="rectangle">制作過程</a><script async src="https://ofuse.me/assets/platform/widget.js" charset="utf-8"></script>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Servers full of luxury-/</small>
    <h2>高級感満載のサーバー</h2>
    <p> マインクラフト 統合版で「Super Hiko14」をフレンドに追加して、高級ジェネをプレイしよう!</p>
    <a href="https://launch.minecraft.net/profile/Super%20Hiko14" class="my-button" target="_blank">今すぐプレイ!</a>
  </div>
  </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Server Advantages-/</small>
    <h2>このサーバーの長所</h2>
    <p>やりこみ要素が豊富です。称号だけでも8個あります!(現在時点)<br>
    称号以外にも、実績やジェネの通貨、見栄えの良い建築などで、モチベーションがとてもあがります!<br>
    これはマイクラだけにとどまらず、オープンチャットを展開しています!少し下にスクロールするとリンクがあります。是非参加してみてください!</p>
  </div>
  </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Main Members-/</small>
    <h2>主なメンバー</h2>
<section class="member-intro">
  <div class="member-grid">
  <div class="fade-in">
  <div class="member-grid">
<a href="https://kokyujene.github.io/members/super-hiko14/" class="member-card card-a">
  <div class="role">Owner</div>
  <div class="divider"></div>
  <div class="info-row">
    <img src="images/m_hiko.webp" alt="Owner">
    <span class="name">Super Hiko14</span>
  </div>
  <p class="comment">kento教信者になりましょう(???)</p>
</a>
</div>
</div>

<div class="fade-in">
  <div class="member-grid">
<a href="https://kokyujene.github.io/members/KenNova758/" class="member-card card-b">
  <div class="role">Deputy Owner</div>
  <div class="divider"></div>
  <div class="info-row">
    <img src="images/m_kento.webp" alt="Deputy Owner">
    <span class="name">KenNova758</span>
  </div>
  <p class="comment">こんにちは！KenNovaだよ～</p>
</a>
</div>
</div>

<div class="fade-in">    
  <div class="member-grid">
<a href="https://kokyujene.github.io/members/kazekiri900/" class="member-card card-c">
  <div class="role">Deputy Owner</div>
  <div class="divider"></div>
  <div class="info-row">
    <img src="images/m_kazekiri.webp" alt="Deputy Owner">
    <span class="name">kazekiri900</span>
  </div>
  <p class="comment">高級ジェネサーバーホストになれる権限を持ってる中では一番高性能なパソコンを使ってます。</p>
</a>
</div>
</div>
</div>

</section>
    </div>
    </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Other Services-/</small>
    <h2>その他サービス</h2>
    <p>マインクラフト以外のサービスで例えばこのサイト。<br>
    他にもX(旧Twitter)やオープンチャットもあります!<br>
    オープンチャットではライブトークで、雑談したり、投票を行ったり、今日、いつ開くかや遅れるなどの知らせをあらかじめ見ることができます!<br>
    <div class="center-text">
    <a href="https://www.youtube.com/channel/UCi_f14XmiLkd7S5liwxnU2g" class="my-button2" target="_blank">公式Youtube</a><br>
    </div><br>
    <div class="center-text">
    <a href="https://www.youtube.com/@Kazekiri.pc.minecraft" class="my-button2" target="_blank">kazekiri900のYoutube</a><br>
    </div><br>
    <div class="center-text">
    <a href="https://line.me/ti/g2/NUmh2HQ_JhLH9x7VNaR1XAYqIePaEeziz5HClw" class="my-button2" target="_blank">公式オープンチャット</a><br>
    </div><br>
    <div class="center-text">
    <a href="https://x.com/Kokyujene" class="my-button2" target="_blank">公式Xアカウント</a><br>
    </div><br>
    <a href="https://discord.gg/ukFH4NtDG6" target="_blank" class="my-button2">公式Discordサーバー<br></a></p>
    <p class="text_s3">okaki5013を許してはいけません...。</p>
  </div>
  </div>
</div>
</div>

<div class="fade-in">
<div class="content-box">
    <div class="side-text">
    <div class="box1">
    <small class=sub-title>\-Server rules-/</small>
    <h2>サーバーのルールなど</h2>
    <p>このサイトには高級ジェネのルールがあります!内容はほとんど変わりません!!少し整理されているので多少は見やすいと思います。<br>
    <a href="https://kokyujene.github.io/rules/" class="my-button">ルール</a><br>
  </div>
  </div>
</div>

</div>



<div class="content-box">
<div class="center-text">
  <div class="glitch-button">
    <span class="glitch-text">縺翫°縺阪ｒ縺薙ｍ縺昴≧</span>
    <div class="glitch-bg"></div>
  </div>
</div>
</div>

  </main>

<footer class="footer">
  <div class="footer-icons">
    <a href="https://line.me/ti/g2/NUmh2HQ_JhLH9x7VNaR1XAYqIePaEeziz5HClw" target="_blank">
      <img src="https://kokyujene.github.io/images/line-logo.webp" alt="LINE" class="footer-icon">
    </a>
    <a href="https://x.com/Kokyujene" target="_blank">
      <img src="https://kokyujene.github.io/images/x-logo.webp" alt="X" class="footer-icon">
    </a>
    <img id="theme-icon" src="https://kokyujene.github.io/images/moon.webp" alt="テーマ切替" class="theme-toggle-icon">
  </div>

  <div class="footer-text">
    © <span id="year"></span> KokyuJene™ All rights reserved. | 
    <a href="https://kokyujene.github.io/privacypolicy" class="footer-link">プライバシーポリシー</a> | 
    <a href="https://kokyujene.github.io/terms" class="footer-link">利用規約</a> | 
    <a href="https://kokyujene.github.io/license" class="footer-link">ライセンス</a> | 
    <a href="https://kokyujene.github.io/contact" class="footer-link">お問い合わせ</a>
  </div>
</footer>

<script src="js/script.js"></script>

<script>
const menuIcon = document.querySelector('.menu-icon');
const closeIcon = document.querySelector('.close-icon');
const mobileMenu = document.querySelector('.mobile-menu');

menuIcon.addEventListener('click', () => {
  mobileMenu.classList.add('active');
  menuIcon.style.display = 'none';
  closeIcon.style.display = 'block';
});

closeIcon.addEventListener('click', () => {
  mobileMenu.classList.remove('active');
  menuIcon.style.display = 'block';
  closeIcon.style.display = 'none';
});
</script>

<script>
// サーバー状態取得
fetch('https://script.google.com/macros/s/AKfycbwvph3wE2SDcDjqbGyh4_OonhzcmbMUvLJ7ZpGfMyXM8-f23f6_U_dASyRMnBhp9punNw/exec')
  .then(res => res.json())
  .then(data => {
    const statusEl = document.getElementById("server-status");

    if (data.status == 1) {
      statusEl.textContent = "サーバーは開いています";
      statusEl.classList.add("status-open");

      // 光る演出（クラスを一旦外して再追加）
      statusEl.classList.remove("status-glow");
      void statusEl.offsetWidth; // 再描画トリガー
      statusEl.classList.add("status-glow");

    } else {
      statusEl.textContent = "サーバーは開いていません";
      statusEl.classList.add("status-closed");
    }
  })
  .catch(err => {
    const statusEl = document.getElementById("server-status");
    statusEl.textContent = "取得失敗";
    statusEl.classList.add("status-closed");
    console.error(err);
  });
  
    const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
      } else {
        entry.target.classList.remove('show'); // 何度でも再実行
      }
    });
  });

  document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
  
</script>

<script>
fetch("/news/news.json")
  .then(res => res.json())
  .then(data => {
    const list = document.getElementById("news-list");
    list.innerHTML = "";

    // ▼新しい順に並べ替えてから先頭3件だけ取得
    const latest = data.slice().reverse().slice(0, 3);

    latest.forEach(item => {
      const li = document.createElement("li");
      li.innerHTML = `
        <a href="${item.link}" class="news-box">
          <span class="tag">»${item.category}«</span> ${item.title}
        </a>`;
      list.appendChild(li);
    });
  })
  .catch(err => console.error("ニュース取得エラー:", err));
</script>

<script>
(function(){
  const heroWrapper = document.getElementById('heroWrapper');
  const heroInner   = document.getElementById('heroInner');
  const logoSlot    = document.getElementById('logoSlot');
  const slotImage   = document.getElementById('slotImage');
  const welcomeText = document.getElementById('welcomeText');

  const ANIM_DURATION = 1200;
  const WELCOME_DELAY = 300;

  function lockScroll(){ document.body.classList.add("scroll-locked"); }
  function unlockScroll(){ document.body.classList.remove("scroll-locked"); }

  function ensureImage(url){
    return new Promise(resolve => {
      const img = new Image();
      img.onload = resolve;
      img.onerror = resolve;
      img.src = url;
    });
  }

  async function runHero(){
    await ensureImage("/images/wall_back.webp");
    lockScroll();

    const vw = window.innerWidth;
    const vh = window.innerHeight;

    // スロットの位置情報
    const slotRect = logoSlot.getBoundingClientRect();
    const targetSize = Math.min(slotRect.width, slotRect.height);
    const targetX = slotRect.left + slotRect.width/2;
    const targetY = slotRect.top  + slotRect.height/2;

    // 中央座標
    const centerX = vw / 2;
    const centerY = vh / 2;

    // 差分とスケール
    const dx = targetX - centerX;
    const dy = targetY - centerY;
    const scale = targetSize / Math.min(vw, vh);

    // 初期は全画面 (CSSで100vw,100vh)
    heroInner.style.transition = `transform ${ANIM_DURATION}ms cubic-bezier(.2,.9,.3,1), 
                                   border-radius ${ANIM_DURATION}ms ease, 
                                   width ${ANIM_DURATION}ms ease, 
                                   height ${ANIM_DURATION}ms ease`;

    // 強制リフロー
    void heroInner.offsetWidth;

    // → 正方形に縮小しながら移動 & 丸に変化
    heroInner.style.width = Math.min(vw, vh) + "px";
    heroInner.style.height = Math.min(vw, vh) + "px";
    heroInner.style.transform = `translate(${dx}px, ${dy}px) scale(${scale})`;
    heroInner.style.borderRadius = "50%";

    // 終了処理
    heroInner.addEventListener("transitionend", function onEnd(e){
      if (e.propertyName === "transform") {
        heroInner.removeEventListener("transitionend", onEnd);

        // 背景を消す
        heroWrapper.style.opacity = "0";

        setTimeout(() => { slotImage.style.opacity = "1"; }, 150);
        setTimeout(() => {
          welcomeText.style.opacity = "1";
          welcomeText.style.transform = "translateY(0)";
        }, WELCOME_DELAY);

        setTimeout(() => {
          unlockScroll();
          heroWrapper.remove();
        }, 600);
      }
    });
  }

  window.addEventListener("load", runHero, { once:true });
})();
</script>

<script>
(function(){
  // 対象セレクタ
  const selector = '#loopSection'; // なければ '.loop-bg' に変更可
  // 背景の動く速さ (1 = 同速, 0.5 = 半速, -1 = 逆方向)
  const speed = 1.0;

  // 取得
  let el = document.querySelector(selector) || document.querySelector('.loop-bg');
  if (!el) {
    console.warn('loopSection が見つかりません: ', selector, '. 既存のクラス .loop-bg を探します...');
    el = document.querySelector('.loop-bg');
  }
  if (!el) {
    console.error('loopSection / .loop-bg が見つかりません。HTML に id="loopSection" を付けるか、class を確認してください。');
    return;
  }

  // スクロールを発生させている要素を探す（document.scrollingElement を優先）
  function detectScrollElement() {
    // 通常は document.scrollingElement でOK（Chrome, Firefox, Edge, Safari）
    const se = document.scrollingElement || document.documentElement;
    // ただし body に overflow:auto 等でスクロールしているケースを追加検出
    // 候補: body, html, document.scrollingElement, closest overflow:auto ancestor
    const candidates = [se, document.body, document.documentElement];
    // 近傍で overflow が scroll/auto になっていて高さが溢れている ancestor を探す
    let ancestor = el.parentElement;
    while (ancestor) {
      const cs = getComputedStyle(ancestor);
      if ((cs.overflowY === 'auto' || cs.overflowY === 'scroll') && ancestor.scrollHeight > ancestor.clientHeight) {
        candidates.unshift(ancestor);
        break;
      }
      ancestor = ancestor.parentElement;
    }
    // 使える最初の要素を返す
    for (const c of candidates) {
      if (!c) continue;
      try {
        // scrollTop が使えるか確認
        const s = typeof c.scrollTop === 'number';
        if (s) return c;
      } catch(e){ continue; }
    }
    return window;
  }

  let scrollEl = detectScrollElement();

  // 初期 top を計測（ドキュメントトップ相対）
  function calcInitialTop() {
    const rect = el.getBoundingClientRect();
    const scrollTop = (scrollEl === window) ? (window.pageYOffset || document.documentElement.scrollTop || 0) : scrollEl.scrollTop;
    return rect.top + scrollTop;
  }

  let initialTop = calcInitialTop();

  // 再検出 / 再計算（リサイズ時やレイアウト変化時）
  function recompute() {
    // 再検出（もしスクロールを行うコンテナが動的に変わっていたら対応）
    scrollEl = detectScrollElement();
    initialTop = calcInitialTop();
  }

  // rAF 用
  let latestScroll = (scrollEl === window) ? (window.pageYOffset || document.documentElement.scrollTop || 0) : (scrollEl.scrollTop || 0);
  let ticking = false;

  function onScrollEvent() {
    latestScroll = (scrollEl === window) ? (window.pageYOffset || document.documentElement.scrollTop || 0) : (scrollEl.scrollTop || 0);
    if (!ticking) {
      window.requestAnimationFrame(update);
      ticking = true;
    }
  }

  function update() {
    ticking = false;
    // 差分を使って Y を計算
    const y = Math.round((latestScroll - initialTop) * speed);
    // 背景位置を更新（正の y は下方向に移動）
    el.style.backgroundPosition = `center ${y}px`;
  }

  // 初期実行
  recompute();
  update();

  // イベント登録
  // scrollEl が window 以外の element の場合はその要素に scroll を監視
  try {
    if (scrollEl === window) {
      window.addEventListener('scroll', onScrollEvent, { passive: true });
    } else {
      scrollEl.addEventListener('scroll', onScrollEvent, { passive: true });
      // まだ window のスクロールも検出したい場合は両方に登録してもOK
      window.addEventListener('scroll', onScrollEvent, { passive: true });
    }
  } catch(e) {
    // fallback
    window.addEventListener('scroll', onScrollEvent, { passive: true });
  }

  window.addEventListener('resize', () => {
    // resize 時は初期 top を再計算しておく
    recompute();
    onScrollEvent();
  }, { passive: true });

  // DOM が後で変わる可能性があるなら短時間 MutationObserver で見張る
  const mo = new MutationObserver((mutations, obs) => {
    // もし offsetHeight が 0 などで正しくないときに再計算したいケースをカバー
    if (el && (el.getBoundingClientRect().height === 0 || initialTop === 0)) {
      recompute();
    }
  });
  mo.observe(document.body, { childList: true, subtree: true });

})();
</script>

</body>

</html>
